#!/bin/bash
#
# KONFIGURATIONSDATEI für automatisiertes Havoc C2 Setup
#
# ANLEITUNG:
# 1. Kopieren Sie diese Datei: cp config.example config
# 2. Füllen Sie ALLE Werte unten aus
# 3. Führen Sie auto_setup.sh aus
#
# WICHTIG: config wird NICHT in Git committed (ist in .gitignore)
#

# ════════════════════════════════════════════════════════════
# WELCHER SERVER IST DAS?
# ════════════════════════════════════════════════════════════
# Optionen: "teamserver" oder "redirector"
SERVER_TYPE="teamserver"

# ════════════════════════════════════════════════════════════
# TEAMSERVER KONFIGURATION (nur wenn SERVER_TYPE=teamserver)
# ════════════════════════════════════════════════════════════

# Teamserver-Einstellungen
TS_HOST="0.0.0.0"
TS_PORT="40056"

# Admin-Zugangsdaten
ADMIN_USER="admin"
ADMIN_PASSWORD="MeinSuperSicheresPasswort123!"

# Zusätzlicher Operator (optional)
OPERATOR_USER="operator1"
OPERATOR_PASSWORD="Operator123!"

# Listener-Einstellungen
LISTENER_HOST="cdn.example.com"  # IHRE Redirector-Domain (oder IP)
LISTENER_PORT="443"

# ════════════════════════════════════════════════════════════
# REDIRECTOR KONFIGURATION (nur wenn SERVER_TYPE=redirector)
# ════════════════════════════════════════════════════════════

# Redirector-Typ: "nginx", "apache", "caddy", oder "traefik"
REDIRECTOR_TYPE="nginx"

# Domain-Einstellungen
REDIRECTOR_DOMAIN="cdn.example.com"  # IHRE Domain!
ADMIN_EMAIL="admin@example.com"

# C2-Server (Teamserver)
C2_SERVER_IP="49.12.34.56"  # IHRE Teamserver-IP!
C2_SERVER_PORT="443"

# C2-URI-Pfade (Traffic der zu C2 weitergeleitet wird)
C2_URI="/api"

# SSL-Zertifikat automatisch holen?
AUTO_SSL="true"  # true oder false

# ════════════════════════════════════════════════════════════
# SICHERHEIT
# ════════════════════════════════════════════════════════════

# Server härten? (SSH, Firewall, Fail2Ban)
AUTO_HARDEN="true"  # true oder false

# SSH-Port ändern? (leer = 22 behalten)
NEW_SSH_PORT=""  # z.B. "2222" oder leer für Standard

# Firewall automatisch konfigurieren?
AUTO_FIREWALL="true"  # true oder false

# ════════════════════════════════════════════════════════════
# ERWEITERTE OPTIONEN
# ════════════════════════════════════════════════════════════

# Automatische Updates aktivieren?
AUTO_UPDATES="true"

# Logs rotieren nach X Tagen
LOG_RETENTION_DAYS="14"

# Debug-Modus? (mehr Output)
DEBUG="false"

# ════════════════════════════════════════════════════════════
# ENDE DER KONFIGURATION
# ════════════════════════════════════════════════════════════
